<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Countdown to 14 November</title>
  <link rel="icon" href="favicon.ico" type="image/png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
  <style>
    :root { color-scheme: light dark; }
    .heart {
      max-width: 7rem;   /* adjust size as needed */
      height: auto;
    }
    body {
      margin: 0;
      min-height: 100svh;
      display: grid;
      place-items: center;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      background: linear-gradient(135deg, #009739, #00c26e, #006b29);
      color: #012169;
    }
    .wrap { text-align: center; padding: 24px; }
    h1 { color: #fafafa; font-size: clamp(25px, 5vw, 56px); margin: 0 0 16px; font-family: "Montserrat", serif; font-weight: 600; }
    .grid {
      display: grid;
      grid-template-columns: repeat(4, minmax(80px, 1fr));
      gap: 12px;
      max-width: 720px;
      margin: 0 auto;
    }
    .cell {
      background: #FEDD00;
      border-radius: 12px;
      box-shadow: 0 6px 24px rgba(0,0,0,.06);
      padding: 18px 10px;
    }
    .num { font-size: clamp(28px, 6vw, 48px); font-weight: 700; }
    .label { opacity: .65; letter-spacing: .04em; text-transform: uppercase; font-size: 12px; }
    .note { margin-top: 16px; opacity: .7; color: #fafafa; font-size: 14px; }
    @media (max-width: 991px) {
  .grid {
    grid-template-columns: repeat(2, minmax(120px, 1fr));
  }
}
.flag {
  max-width: 7rem;   /* adjust size as needed */
  height: auto;
  vertical-align: middle;
}
.top-wrap {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 0.2rem; /* space between images */
  margin-bottom: 1rem; /* space below the images */
}
.vignette {
  position: fixed;
  inset: 0;
  pointer-events: none;
  background: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 0.25) 0%,
    transparent 20%,
    transparent 80%,
    rgba(0, 0, 0, 0.25) 100%
  );
  z-index: 1;
}
.progress {
  margin-top: 2rem;
  height: 6px;
  width: 100%;
  background: rgba(255, 255, 255, 0.25);
  border-radius: 3px;
  overflow: hidden;
  position: relative;
  z-index: 2;
}
.progress-bar {
  height: 100%;
  background: #FEDD00;
  width: 0%;
  transition: width 0.6s ease;
}


@media screen and (max-width: 600px) {
  .flag {
    max-width: 5rem; /* smaller size on small screens */
  }
  .heart {
    max-width: 5rem; /* smaller size on small screens */
  }
  
}
</style>
</head>
<body>
  <div class="vignette"></div>
  <div class="wrap">
    <div class="top-wrap">
      <img src="assets/serbia.png" alt="Serbia flag" class="flag flag-serbia">
      <img src="assets/heart.png" alt="Heart img" class="heart">
      <img src="assets/brasil.png" alt="Brazil flag" class="flag flag-brasil">
    </div>
    <h1>Tempo at√© a gente se ver:</h1>
    <div class="grid" role="timer" aria-live="polite">
      <div class="cell"><div class="num" id="days">0</div><div class="label">Dias</div></div>
      <div class="cell"><div class="num" id="hours">0</div><div class="label">Horas</div></div>
      <div class="cell"><div class="num" id="minutes">0</div><div class="label">Minutos</div></div>
      <div class="cell"><div class="num" id="seconds">0</div><div class="label">Segundos</div></div>
    </div>
    <div class="progress">
      <div class="progress-bar" id="progress-bar"></div>
    </div>

  </div>
  <script>
    function getNextNov14(now = new Date()) {
      const year = now.getFullYear();
      const targetThisYear = new Date(year, 10, 14, 0, 0, 0); // November = 10
      return now <= targetThisYear
        ? targetThisYear
        : new Date(year + 1, 10, 14, 0, 0, 0);
    }

    const $ = (id) => document.getElementById(id);
    const daysEl = $("days"),
          hoursEl = $("hours"),
          minutesEl = $("minutes"),
          secondsEl = $("seconds");

    let target = getNextNov14();
    const countdownStart = new Date(); // when user opens page

    function updateProgress() {
      const now = new Date();
      const totalMs = target - countdownStart;
      const elapsedMs = now - countdownStart;

      let percent = Math.min(100, Math.max(0, (elapsedMs / totalMs) * 100));
      document.getElementById("progress-bar").style.width = percent + "%";
    }

    function update() {
      const now = new Date();
      if (now >= target) {
        target = getNextNov14(now);
      }

      const diffMs = target - now;
      const totalSeconds = Math.max(0, Math.floor(diffMs / 1000));

      const days = Math.floor(totalSeconds / (3600 * 24));
      const hours = Math.floor((totalSeconds % (3600 * 24)) / 3600);
      const minutes = Math.floor((totalSeconds % 3600) / 60);
      const seconds = totalSeconds % 60;

      daysEl.textContent = String(days);
      hoursEl.textContent = String(hours).padStart(2, "0");
      minutesEl.textContent = String(minutes).padStart(2, "0");
      secondsEl.textContent = String(seconds).padStart(2, "0");

      updateProgress();
    }

    // Keep ticks aligned to the wall-clock second using Date.now()
    let timeoutId;
    function scheduleNextTick() {
      clearTimeout(timeoutId);
      const now = Date.now();
      const delay = 1000 - (now % 1000);
      timeoutId = setTimeout(() => {
        update();
        scheduleNextTick();
      }, delay);
    }

    update();
    scheduleNextTick();
  </script>

</body>
</html>